/* assets/css/my-custom-styles.css (或 custom.scss) */

@media (max-width: 849px) { /* 或者你最终确定的移动端断点 */

  /* --- 固定 Topbar 的核心样式 --- */
  #topbar {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important; /* 确保宽度是100% */
    
    height: 56px !important; /* 保持一个明确的像素高度，你可以调整这个值 */
    max-height: 56px !important;
    min-height: 56px !important;
    /* line-height: 56px !important; -- 内部是 flex 布局，这个可能不需要或引起冲突 */
    
    padding: 0 1rem !important; /* 左右内边距，上下为0 */
    margin: 0 !important;
    box-sizing: border-box !important;
    
    background-color: white !important; /* 明确的背景色 */
    z-index: 1050 !important;
    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24) !important;

    /* 确保 Flexbox 属性也在，以正确排列内部元素 */
    display: flex !important;
    align-items: center !important;
    justify-content: space-between !important; 
  }

  /* 确保 #topbar 内的直接子元素不会有奇怪的 margin 导致高度问题 */
  #topbar > * {
    margin-top: 0 !important;
    margin-bottom: 0 !important;
  }

  /* --- 调整 Body 的 padding-top --- */
  body {
    padding-top: 56px !important; /* 必须与 #topbar 的 height 一致 */
  }

  /* --- Topbar 标题字体大小调整 --- */
  #topbar-title {
    font-size: 1.6em !important; /* 你期望的字体大小 */
    /* color: initial !important; */ /* 如果需要改颜色 */
    margin-left: 8px !important; /* 因为左边加了 Logo，给标题一点左边距 */
  }

  /* --- Logo 图片样式调整 --- */
  #site-logo-img {
    height: 30px !important;   /* 设置 Logo 高度 */
    width: auto !important;    /* 宽度自动，保持比例 */
    max-height: 100%;          /* 确保 Logo 不会超出其直接父容器的高度 (这里父容器是 a 标签) */
    object-fit: contain;       /* 保持图片比例，完整显示 */
    vertical-align: middle;    /* 尝试垂直对齐 (在 Flex 子项中可能不是主要方式) */
  }

  /* 包裹 Logo 的 <a> 标签样式 */
  #site-logo-link {
    line-height: 0;            /* 消除可能的额外行高空间 */
    display: inline-flex;      /* 使用 inline-flex 帮助内部 img 对齐 */
    align-items: center;       /* 垂直居中 img */
    margin-right: 8px;         /* Logo 和标题之间的间距，可以调整或移到 #topbar-title 的 margin-left */
  }

  /* 包裹 Logo 和标题的容器 (如果你在 HTML 中用了 .site-branding) */
  .site-branding {
    display: flex;             /* 确保 Logo 和标题水平排列 */
    align-items: center;       /* 垂直居中 */
    /* flex-grow: 1; */       /* 如果希望它占据更多可用空间，可以尝试，但可能不需要 */
  }

  /* (可选) 如果侧边栏 #sidebar 在 topbar 固定后显示位置不正确 */
  /*
  #sidebar {
    padding-top: 56px !important; // 或者 top: 56px !important;
  }
  */
}
