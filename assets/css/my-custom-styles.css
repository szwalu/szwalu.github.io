/* assets/css/my-custom-styles.css */

/* --- 仅在屏幕宽度小于或等于 849px 时应用的样式 (针对移动端) --- */
@media (max-width: 849px) {

  /* 确保 #topbar (父容器) 正确应用 Flex 属性 */
  /* Bootstrap 的 d-flex 和 justify-content-between 应该已经处理了这些， */
  /* 但我们可以显式地再次声明以确保覆盖或强调 */
  #topbar {
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important; /* 垂直居中所有子项 */
    width: 100% !important;
    height: 100% !important;
  }

  /* 菜单按钮（三条横线）居左 */
  #sidebar-trigger { /* 使用 ID 选择器 */
    order: 1 !important; /* 最左边 */
    margin: 0 !important;
    padding: 0 0.25rem !important; /* 可以稍微调整内边距以优化视觉 */
    display: inline-flex !important; /* 确保其内容也良好对齐 */
    align-items: center !important;
  }

  /* 博客标题和 Logo 居中 */
  .site-branding { /* 使用类选择器 */
    /* 确保它在移动端是 display: flex 以便内部元素对齐 */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;

    /* 绝对定位实现居中 */
    position: absolute !important;
    left: 50% !important;
    top: 50% !important;
    transform: translate(-50%, -50%) !important;
    width: auto !important; /* 宽度自适应内容 */
    /* order: 2; */ /* 对于绝对定位元素，order 不直接影响其在 absolute 布局中的位置，但为了逻辑清晰可以保留 */
  }

  /* 搜索按钮（放大镜）居右 */
  #search-trigger { /* 使用 ID 选择器 */
    order: 3 !important; /* 最右边 */
    margin: 0 !important;
    padding: 0 0.25rem !important; /* 可以稍微调整内边距以优化视觉 */
    display: inline-flex !important; /* 确保其内容也良好对齐 */
    align-items: center !important;
  }

  /* --- 以下是您之前 CSS 中其他部分，保持不变 --- */

  /* Logo 图片样式调整 */
  #site-logo-img {
    height: 30px !important;
    width: auto !important;
    max-height: 100%;
    object-fit: contain;
    vertical-align: middle;
  }

  /* 包裹 Logo 的 <a> 标签样式 */
  #site-logo-link {
    line-height: 0;
    display: inline-flex;
    align-items: center;
    margin-right: 4px; /* 如果Logo和标题之间需要间距 */
  }

  /* Topbar 网站标题字体大小和颜色调整 */
  #topbar-title {
    font-size: 1.5em !important;
    /* margin-left: 0px !important; */ /* 如果Logo在左，标题在右，可能需要这个 */
    color: var(--topbar-text-color, var(--text-color)) !important;
  }

  /* 固定 Topbar 的核心样式 */
  #topbar-wrapper {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 56px !important; /* 您之前设置的固定高度 */
    max-height: 56px !important;
    min-height: 56px !important;
    padding: 0 1rem !important; /* 页眉左右内边距，这会影响 #topbar 的可用宽度 */
    margin: 0 !important;
    box-sizing: border-box !important;
    background-color: var(--topbar-bg) !important;
    z-index: 1050 !important;
    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24) !important;
    display: flex !important; /* #topbar-wrapper 也是 flex，使其子元素 #topbar 能够良好对齐 */
    align-items: center !important;
    overflow: hidden !important;
  }

  /* 确保 #topbar-wrapper 内的直接子元素高度受控 (主要是 #topbar) */
  /* #topbar-wrapper > * { 这个规则可能过于宽泛，我们直接控制 #topbar 即可 } */


  /* --- 调整 Body 的 padding-top --- */
  body {
    padding-top: 56px !important; /* 与 #topbar-wrapper 高度一致 */
  }

  /* (其他 main, panel-wrapper 等样式保持不变) */
  #panel-wrapper {
    padding-top: 0px !important;
    margin-top: 0px !important;
  }
  main {
    padding-top: 0px !important;
    margin-top: 0px !important;
  }
  #post-list > article.card-wrapper:first-child,
  main article:first-child h2,
  main article:first-child h3,
  main article:first-child .post-title {
    margin-top: 0px !important;
  }
  main h1[data-toc-skip] {
    font-size: 1.8rem !important;
    margin-top: 0.5rem !important;
  }
}
