/* assets/css/my-custom-styles.css */

/* --- 默认情况下 (PC 端及更大屏幕) --- */
/* 隐藏为移动端添加的 Logo 和包裹它的容器 */
.site-branding {
  display: none !important;
}

/* --- 仅在屏幕宽度小于或等于 849px 时应用的样式 (针对移动端) --- */
@media (max-width: 849px) {

  /* --- 让包裹 Logo 和标题的容器在移动端显示出来 --- */
  .site-branding {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important; /* 确保 Logo 和标题在其容器内部居中 */
    /* flex: 0 0 auto !important; */ /* 此处 flex 属性对于绝对定位的元素不是必需的 */
  }

  /* --- Logo 图片样式调整 --- */
  #site-logo-img {
    height: 30px !important;
    width: auto !important;
    max-height: 100%;
    object-fit: contain;
    vertical-align: middle;
  }

  /* 包裹 Logo 的 <a> 标签样式 */
  #site-logo-link {
    line-height: 0;
    display: inline-flex;
    align-items: center;
    margin-right: 4px;
  }

  /* --- Topbar 网站标题 ("天秋的博客") 字体大小和颜色调整 --- */
  #topbar-title {
    font-size: 1.5em !important;
    margin-left: 0px !important;
    color: var(--topbar-text-color, var(--text-color)) !important;
  }

  /* --- 固定 Topbar 的核心样式 --- */
  #topbar-wrapper {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 56px !important;
    max-height: 56px !important;
    min-height: 56px !important;
    padding: 0 1rem !important; /* 页眉左右内边距 */
    margin: 0 !important;
    box-sizing: border-box !important;
    background-color: var(--topbar-bg) !important;
    z-index: 1050 !important;
    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24) !important;
    display: flex !important;
    align-items: center !important;
    overflow: hidden !important;
  }

  /* 创建一个内部容器来控制布局 */
  #topbar-wrapper > .topbar-inner {
    display: flex !important;
    align-items: center !important; /* 垂直居中菜单和搜索图标 */
    width: 100% !important;
    height: 100% !important; /* 确保内部容器占满高度 */
    justify-content: space-between !important; /* 将菜单图标和搜索图标分别推向两侧 */
  }

  /* 菜单图标（三条横线）居左 */
  #topbar-wrapper .menu-icon {
    /* margin-right: auto !important; */ /* 当父容器使用 space-between 且此元素 order 为最小时，此项不是必需的 */
    display: flex !important;
    align-items: center !important;
    order: 1 !important; /* 确保在 Flex 流的最左侧 */
    flex-shrink: 0; /* 防止图标被压缩 */
  }

  /* 博客标题和 Logo 居中 */
  #topbar-wrapper .site-branding {
    /* display: flex, align-items: center, justify-content: center 由 .site-branding 通用规则提供 */
    position: absolute !important; /* 绝对定位，使其脱离 Flex 流 */
    left: 50% !important; /* 水平居中 */
    top: 50% !important; /* 垂直居中 */
    transform: translate(-50%, -50%) !important; /* 精确居中 */
    width: auto !important; /* 宽度自适应内容 */
    /* order: 2 !important; */ /* 对于绝对定位的元素，order 不影响其最终布局 */
    /* flex: 0 0 auto !important; */ /* 对于绝对定位的元素，flex 属性不适用 */
    /* text-align: center !important; */ /* .site-branding 内部已通过 flex 实现居中 */
  }

  /* 搜索图标居右 */
  #topbar-wrapper [aria-label="Search"] { /* 或者使用更精确的类名，例如 .search-icon-selector */
    display: flex !important;
    align-items: center !important;
    order: 3 !important; /* 确保在 Flex 流的最右侧 */
    margin-left: auto !important; /* 强制将其推到最右边 */
    margin-right: 0 !important; /* 清除右边距 */
    padding-left: 0 !important; /* 清除左内边距，以防万一 */
    padding-right: 0 !important; /* 清除右内边距 */
    flex-shrink: 0 !important; /* 防止图标被压缩 */
  }

  /* 确保 #topbar-wrapper 内的直接子元素高度受控 (主要是 .topbar-inner) */
  #topbar-wrapper > * {
    margin: 0 !important;
    padding: 0 !important;
    max-height: 100% !important;
  }

  /* --- 调整 Body 的 padding-top --- */
  body {
    padding-top: 56px !important;
  }

  /* --- 调整主要内容区域与固定页眉的间距 --- */
  #panel-wrapper {
    padding-top: 0px !important;
    margin-top: 0px !important;
  }
  
  main {
    padding-top: 0px !important;
    margin-top: 0px !important;
  }

  #post-list > article.card-wrapper:first-child,
  main article:first-child h2,
  main article:first-child h3,
  main article:first-child .post-title {
    margin-top: 0px !important;
  }
  
  /* --- 调整移动端单篇文章页面内文章大标题的字体大小和上边距 --- */
  main h1[data-toc-skip] {  
    font-size: 1.8rem !important;
    margin-top: 0.5rem !important;
  }

} /* @media (max-width: 849px) 的结束大括号 */
